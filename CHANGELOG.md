# 更新日志

所有重要的项目变更都会记录在此文件中。

## [2.0.0] - 2025-02-10

### ✨ 新增功能

- **完整的图形化配置界面**
  - 刷新设置标签页：调整刷新间隔
  - 夜间模式标签页：设置暂停时间段
  - 天气配置标签页：配置 API Key 和城市
  - 邮件通知标签页：控制邮件开关

- **配置热重载**
  - 修改配置后立即生效
  - 无需重启程序
  - 调度器自动检测配置变更并重新计算刷新时间

- **单实例窗口管理**
  - 防止重复打开配置窗口
  - 重复点击「设置」会激活已有窗口
  - macOS 窗口自动激活支持

### 🎨 改进

- **架构优化**
  - 配置界面改为独立进程运行
  - 不阻塞系统托盘主线程
  - 完善的锁文件管理

- **调度器增强**
  - 支持配置变更监听
  - 自动重新计算下次刷新时间
  - 改进夜间模式处理逻辑

- **用户体验提升**
  - 配置窗口居中显示
  - 标签页分类清晰
  - 保存成功后显示提示
  - 托盘菜单项重命名（「打开界面」→「设置」）

### 🐛 修复

- 修复配置界面无法正常工作的问题
- 修复配置窗口使用 `update()` 导致立即关闭的问题
- 修复配置修改后不生效的问题

### 🗑️ 移除

- 移除旧的 `app/gui.py` 文件（已被 `gui_process.py` 取代）

### 📝 文档

- 新增完整的 README.md
- 新增详细的使用指南 GUIDE.md
- 新增 CHANGELOG.md 更新日志

---

## [1.0.0] - 2025-02-07

### ✨ 初始版本

- **核心功能**
  - 定时刷新天气数据
  - 系统托盘支持
  - 配置文件管理
  - 开机自启功能

- **调度功能**
  - 可配置刷新间隔
  - 夜间模式支持
  - 每日 0 点强制刷新

- **界面**
  - 系统托盘图标
  - 托盘右键菜单
  - 基础占位配置窗口（功能未完成）

- **配置管理**
  - INI 格式配置文件
  - 配置模式（Schema）定义
  - 线程安全的配置读写

### 已知问题

- 配置界面只是占位窗口，无法修改配置
- 配置修改需手动编辑配置文件
- 配置变更需要重启程序

---

## 版本号说明

本项目遵循 [语义化版本](https://semver.org/lang/zh-CN/) 规范。

版本格式：`主版本号.次版本号.修订号`

- **主版本号**：不兼容的 API 修改
- **次版本号**：向下兼容的功能性新增
- **修订号**：向下兼容的问题修正

## 分类说明

- **✨ 新增** - 新功能
- **🎨 改进** - 现有功能改进
- **🐛 修复** - 问题修复
- **🗑️ 移除** - 移除的功能
- **📝 文档** - 文档更新
- **🔧 配置** - 配置变更
- **⚡ 性能** - 性能优化
- **🔒 安全** - 安全修复
