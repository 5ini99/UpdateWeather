# UpdateWeather v2.0.0 发布说明

## 🎉 重大更新

这是 UpdateWeather 的一个重要版本更新，带来了完整的图形化配置界面和多项功能改进。

## ✨ 主要新特性

### 1. 完整的图形化配置界面

之前版本的配置界面只是一个占位窗口，无法实际使用。v2.0.0 带来了完整的配置界面：

- **4 个配置标签页**：刷新设置、夜间模式、天气配置、邮件通知
- **直观的控件**：输入框、复选框、数字选择器
- **实时验证**：输入范围自动限制
- **友好提示**：每个配置项都有说明文字

### 2. 配置热重载

配置修改后立即生效，无需重启程序：

- 调度器自动检测配置变更
- 自动重新计算下次刷新时间
- 30 秒内生效

### 3. 单实例窗口管理

- 防止重复打开配置窗口
- 重复点击会激活已有窗口
- macOS 支持窗口自动激活

### 4. 架构优化

- 配置界面改为独立进程运行
- 不阻塞系统托盘主线程
- 更好的性能和稳定性

## 🔄 升级指南

### 从 v1.0.0 升级

如果你正在使用旧版本：

1. **备份配置文件**（可选）
   ```bash
   cp ~/.updateweather/config.ini ~/config_backup.ini
   ```

2. **替换文件**
   - 下载新版本
   - 覆盖旧版本文件

3. **启动程序**
   ```bash
   python3 main.py
   ```

4. **测试配置界面**
   - 右键托盘图标
   - 点击「设置」
   - 确认配置界面正常工作

### 配置文件兼容性

新版本完全兼容旧版本的配置文件，无需手动修改。

## 📋 完整功能列表

### 核心功能
- ✅ 定时刷新天气数据
- ✅ 系统托盘常驻
- ✅ 图形化配置界面
- ✅ 配置热重载
- ✅ 夜间暂停模式
- ✅ 开机自启动
- ✅ 邮件通知（可选）

### 配置项
- ✅ 刷新间隔调整（1-1440分钟）
- ✅ 夜间模式开关
- ✅ 夜间时间段设置
- ✅ 天气 API Key
- ✅ 城市/位置设置
- ✅ 邮件通知开关

### 托盘功能
- ✅ 立即刷新
- ✅ 打开配置
- ✅ 开机自启控制
- ✅ 退出程序

## 🐛 已知问题

### macOS
- 首次运行可能需要授予辅助功能权限
- 部分系统窗口激活可能需要手动点击

### Linux
- 部分桌面环境托盘图标可能显示异常
- 建议使用 GNOME 或 KDE

### Windows
- 需要以管理员权限运行启用开机自启

## 🔜 后续计划

### v2.1.0（计划中）
- 多城市支持
- 天气数据可视化
- 更多通知方式（桌面通知、微信等）

### v2.2.0（计划中）
- 天气数据历史记录
- 统计图表
- 导出数据功能

### v3.0.0（远期规划）
- Web 界面
- 移动端支持
- 云同步配置

## 📞 反馈与支持

如果遇到问题或有建议：

1. **查看文档**
   - README.md - 项目说明
   - GUIDE.md - 使用指南
   - CHANGELOG.md - 更新日志

2. **提交 Issue**
   - 描述问题
   - 附上错误信息
   - 系统环境信息

3. **参与贡献**
   - Fork 项目
   - 提交 Pull Request
   - 改进文档

## 🙏 致谢

感谢所有使用和支持 UpdateWeather 的用户！

---

**享受全新的 UpdateWeather！** 🌤️

Release Date: 2025-02-10
